exit
@host.email
@host.user
@host
n
@host
@host.user.email
exit
n
exit
n
exit
@customer
exit
reservation.id
@customer
@reservation_id
n
exit
@reservation_id = Reservation.find(params[:id]).listing
@reservation_id = Reservation.find(params[:id]).listing.user
@reservation_id
@host
n
@customer.email
@customer
reservation.user
n
reservation
n
listing.reservations
params
reservation.user
exit
reservation.user
exit
Reservation.user
Reservation
User
user
reservation
@customer
exit
reservations.user
exit
reservation
reservation.user
reservation.usr
@customer
q
@user
@user.update
@user.role
@user
exit
price_per_night.to_i * duration
price_per_night.to_i
price_per_night * 2
price_per_night
price_per
self.total_price
n
duration
n
duration
n
duration
self.listing.price
price
c
user_params
c
params
q
exit
